#pragma checksum "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "97d284fa9747a9c3795817ec8683cdfa0463c27b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Report_Report), @"mvc.1.0.view", @"/Views/Report/Report.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\MDA143後\ServerMDA\Views\_ViewImports.cshtml"
using ServerMDA;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\MDA143後\ServerMDA\Views\_ViewImports.cshtml"
using ServerMDA.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
using ServerMDA.ViewModel.Report;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
using System.Text.Json;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"97d284fa9747a9c3795817ec8683cdfa0463c27b", @"/Views/Report/Report.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f44792abd596afd1ba2515f7ae3cd7cc9ca71375", @"/Views/_ViewImports.cshtml")]
    public class Views_Report_Report : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<List<CReportViewModel>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 7 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
  
    string tab = "";
    if (Accessor.HttpContext.Session.Keys.Contains(CDictionaryReport.SK_導回的tab))
    {
        tab = Accessor.HttpContext.Session.GetString(CDictionaryReport.SK_導回的tab);
    }


#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 16 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
  
    ViewData["Title"] = "Report";

#line default
#line hidden
#nullable disable
            DefineSection("Styles", async() => {
                WriteLiteral(@"
    <link href='//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css' rel='stylesheet' />
    <style>
        ul {
            list-style: none;
        }

        .tox-tinymce {
            /* 設定最低高度 */
            min-height: 300px;
        }

        .table {
            font-size: 14px;
        }
    </style>

");
            }
            );
            WriteLiteral("<h1>檢舉管理</h1>\r\n");
#nullable restore
#line 38 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
  
    var rpMem = Model.Where(l => l.對象targetId == 1 && l.處理狀態status == 0).ToList();
    var rpCom = Model.Where(l => l.對象targetId == 2 && l.處理狀態status == 0).ToList();
    var rpRep = Model.Where(l => l.對象targetId == 0 && l.處理狀態status == 0).ToList();
    var rpDon = Model.Where(l => l.處理狀態status == 1).ToList();

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<ul class=""nav nav-tabs"" id=""myTab"" role=""tablist"">
    <li class=""nav-item"" role=""presentation"">
        <button class=""nav-link "" id=""home-tab"" data-bs-toggle=""tab"" data-bs-target=""#home"" type=""button"" role=""tab"" aria-controls=""home"" aria-selected=""false"">待處理會員(");
#nullable restore
#line 47 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                                                                                                                                 Write(rpMem.Count());

#line default
#line hidden
#nullable disable
            WriteLiteral(")</button>\r\n    </li>\r\n    <li class=\"nav-item\" role=\"presentation\">\r\n        <button class=\"nav-link\" id=\"profile-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#profile\" type=\"button\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">待處理評論(");
#nullable restore
#line 50 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                                                                                                                                         Write(rpCom.Count());

#line default
#line hidden
#nullable disable
            WriteLiteral(")</button>\r\n    </li>\r\n    <li class=\"nav-item\" role=\"presentation\">\r\n        <button class=\"nav-link\" id=\"reply-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#reply\" type=\"button\" role=\"tab\" aria-controls=\"reply\" aria-selected=\"false\">待處理回覆(");
#nullable restore
#line 53 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                                                                                                                                   Write(rpRep.Count());

#line default
#line hidden
#nullable disable
            WriteLiteral(")</button>\r\n    </li>\r\n    <li class=\"nav-item\" role=\"presentation\">\r\n        <button class=\"nav-link\" id=\"contact-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#contact\" type=\"button\" role=\"tab\" aria-controls=\"contact\" aria-selected=\"false\">已處理(");
#nullable restore
#line 56 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                                                                                                                                       Write(rpDon.Count());

#line default
#line hidden
#nullable disable
            WriteLiteral(@")</button>
    </li>
</ul>
<div class=""tab-content"" id=""myTabContent"">
    <!--被檢舉會員-->
    <div class=""tab-pane fade  "" id=""home"" role=""tabpanel"" aria-labelledby=""home-tab"">
        <h4 class=""mt-3"">被檢舉會員一覽表</h4>
        <div class=""text-right"">
            <button type=""button"" class=""mr-3 mb-3 btn btn-secondary"" data-toggle=""modal"" data-target=""#modalExample"">
                統一回覆信件預覽
            </button>
            <button id=""solveAllMem"" class=""mr-3 mb-3 btn btn-warning"" tab=""mem"">統一回覆(不停權)</button>
        </div>
        <table class=""table "" id=""memTable"">
            <thead>
                <tr>
                    <th><input type=""checkbox"" id=""selectAllMem"" class=""all"">全選</th>
                    <th>序</th>
                    <th>檢舉項目</th>
                    <th>檢舉人編號</th>
                    <th>
                        檢舉理由
");
            WriteLiteral("                    </th>\r\n                    <th>被檢舉內容</th>\r\n                    <th>處理</th>\r\n                    <th>回覆檢舉人</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n");
#nullable restore
#line 90 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                  
                    int count1 = 0;
                    foreach (var item in rpMem)
                    {
                        count1++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <tr>\r\n                                    <td><input type=\"checkbox\"");
            BeginWriteAttribute("value", " value=\"", 3762, "\"", 3788, 1);
#nullable restore
#line 96 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 3770, item.我的追蹤清單編號cfId, 3770, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("email", " email=\"", 3789, "\"", 3823, 1);
#nullable restore
#line 96 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 3797, item.會員編號member.電子信箱email, 3797, 26, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"checkbox\" /></td>\r\n                                    <td>");
#nullable restore
#line 97 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(count1);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 98 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.對象名稱targetName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 99 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.會員編號memberId);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 100 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.檢舉理由reportReason);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td><a");
            BeginWriteAttribute("href", " href=\'", 4148, "\'", 4229, 1);
#nullable restore
#line 101 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 4155, Url.Content("https://localhost:44345/Comment/會員評論/" + item.連接編號connectId), 4155, 74, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" target=\"_blank\">被檢舉頁面</a></td>\r\n");
#nullable restore
#line 103 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                      
                                        if (item.停權m != 1)
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <td><button type=\"button\" class=\"btn btn-danger\" onclick=\"suspend(event)\" status=\"0\"");
            BeginWriteAttribute("connectid", " connectid=\"", 4735, "\"", 4766, 1);
#nullable restore
#line 106 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 4747, item.連接編號connectId, 4747, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">停權</button></td>\r\n");
#nullable restore
#line 107 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <td><button type=\"button\" class=\"btn btn-success\" onclick=\"suspend(event)\" status=\"1\"");
            BeginWriteAttribute("connectid", " connectid=\"", 5047, "\"", 5078, 1);
#nullable restore
#line 110 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 5059, item.連接編號connectId, 5059, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">取消停權</button></td>\r\n");
#nullable restore
#line 111 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                        }
                                    

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td>\r\n                                        <button type=\"button\" class=\"btn btn-info\" data-bs-toggle=\"modal\" data-bs-target=\"#modalEmail\"\r\n                                                data-bs-email=\"");
#nullable restore
#line 115 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                          Write(item.會員編號member.電子信箱email);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"\r\n                                                data-bs-tar=\"mem\"\r\n                                                data-bs-cfid=\"");
#nullable restore
#line 117 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                         Write(item.我的追蹤清單編號cfId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"\r\n                                                data-bs-link=\'");
#nullable restore
#line 118 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                         Write(Url.Content("https://localhost:44345/Comment/會員評論/" + item.連接編號connectId));

#line default
#line hidden
#nullable disable
            WriteLiteral("\'>\r\n                                            回覆檢舉人\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n");
#nullable restore
#line 123 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"

                                        }
                

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </tbody>
        </table>
    </div>
    <!--被檢舉評論-->
    <div class=""tab-pane fade"" id=""profile"" role=""tabpanel"" aria-labelledby=""profile-tab"">
        <h4 class=""mt-3"">被檢舉評論一覽表</h4>
        <div class=""text-right"">
            <button type=""button"" class=""mr-3 mb-3 btn btn-secondary"" data-toggle=""modal"" data-target=""#modalExample"">
                統一回覆信件預覽
            </button>
            <button id=""solveAllCom"" class=""mr-3 mb-3 btn btn-warning"">統一回覆(不屏蔽)</button>
        </div>
        <table class=""table"" id=""comTable"">
            <thead>
                <tr>
                    <th><input type=""checkbox"" id=""selectAllCom"" class=""all"">全選</th>
                    <th>序</th>
                    <th>檢舉項目</th>
                    <th>檢舉人編號</th>
                    <th>
                        檢舉理由
");
            WriteLiteral("                    </th>\r\n                    <th>被檢舉內容</th>\r\n                    <th>處理</th>\r\n                    <th>回覆檢舉人</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n");
#nullable restore
#line 159 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                  
                    int count2 = 0;
                    foreach (var item in rpCom)
                    {
                        count2++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <tr>\r\n                                    <td><input type=\"checkbox\"");
            BeginWriteAttribute("value", " value=\"", 7556, "\"", 7582, 1);
#nullable restore
#line 165 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 7564, item.我的追蹤清單編號cfId, 7564, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"checkbox\" /></td>\r\n                                    <td>");
#nullable restore
#line 166 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(count2);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 167 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.對象名稱targetName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 168 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.會員編號memberId);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 169 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.檢舉理由reportReason);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td><a");
            BeginWriteAttribute("href", " href=\'", 7907, "\'", 7988, 1);
#nullable restore
#line 170 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 7914, Url.Content("https://localhost:44345/Comment/電影評論/" + item.連接編號connectId), 7914, 74, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" target=\"_blank\">被檢舉頁面</a></td>\r\n");
#nullable restore
#line 172 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                      
                                        if (item.屏蔽c == 0)
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <td><button type=\"button\" class=\"btn btn-danger\" onclick=\"invisibleCom(event)\" status=\"0\"");
            BeginWriteAttribute("connectid", " connectid=\"", 8499, "\"", 8530, 1);
#nullable restore
#line 175 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 8511, item.連接編號connectId, 8511, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">屏蔽</button></td>\r\n");
#nullable restore
#line 176 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <td><button type=\"button\" class=\"btn btn-success\" onclick=\"invisibleCom(event)\" status=\"1\"");
            BeginWriteAttribute("connectid", " connectid=\"", 8816, "\"", 8847, 1);
#nullable restore
#line 179 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 8828, item.連接編號connectId, 8828, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">取消屏蔽</button></td>\r\n");
#nullable restore
#line 180 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                        }
                                    

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td>\r\n                                        <button type=\"button\" class=\"btn btn-info\" data-bs-toggle=\"modal\" data-bs-target=\"#modalEmail\"\r\n                                                data-bs-email=\"");
#nullable restore
#line 184 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                          Write(item.會員編號member.電子信箱email);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"\r\n                                                data-bs-tar=\"com\"\r\n                                                data-bs-cfid=\"");
#nullable restore
#line 186 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                         Write(item.我的追蹤清單編號cfId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"\r\n                                                data-bs-link=\'");
#nullable restore
#line 187 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                         Write(Url.Content("https://localhost:44345/Comment/電影評論/" + item.連接編號connectId));

#line default
#line hidden
#nullable disable
            WriteLiteral("\'>\r\n                                            回覆檢舉人\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n");
#nullable restore
#line 192 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                        }
                

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </tbody>
        </table>
    </div>
    <!--被檢舉回覆-->
    <div class=""tab-pane fade"" id=""reply"" role=""tabpanel"" aria-labelledby=""reply-tab"">
        <h4 class=""mt-3"">被檢舉回覆一覽表</h4>
        <div class=""text-right"">
            <button type=""button"" class=""mr-3 mb-3 btn btn-secondary"" data-toggle=""modal"" data-target=""#modalExample"">
                統一回覆信件預覽
            </button>
            <button id=""solveAllRep"" class=""mr-3 mb-3 btn btn-warning"">統一回覆(不屏蔽)</button>
        </div>
        <table class=""table"" id=""repTable"">
            <thead>
                <tr>
                    <th><input type=""checkbox"" id=""selectAllRep"" class=""all"">全選</th>
                    <th>序</th>
                    <th>檢舉項目</th>
                    <th>檢舉人編號</th>
                    <th>
                        檢舉理由
");
            WriteLiteral("                    </th>\r\n                    <th>被檢舉內容</th>\r\n                    <th>處理</th>\r\n                    <th>回覆檢舉人</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n");
#nullable restore
#line 227 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                  
                    int count3 = 0;
                    foreach (var item in rpRep)
                    {
                        count3++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <tr>\r\n                                    <td><input type=\"checkbox\"");
            BeginWriteAttribute("value", " value=\"", 11319, "\"", 11345, 1);
#nullable restore
#line 233 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 11327, item.我的追蹤清單編號cfId, 11327, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"checkbox\" /></td>\r\n                                    <td>");
#nullable restore
#line 234 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(count3);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 235 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.對象名稱targetName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 236 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.會員編號memberId);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 237 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.檢舉理由reportReason);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                                    <td>");
#nullable restore
#line 238 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(item.被檢舉回覆內容);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n");
#nullable restore
#line 240 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                      
                                        if (item.屏蔽r == 0)
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <td><button type=\"button\" class=\"btn btn-danger\" onclick=\"invisibleRep(event)\" status=\"0\"");
            BeginWriteAttribute("connectid", " connectid=\"", 12165, "\"", 12196, 1);
#nullable restore
#line 243 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 12177, item.連接編號connectId, 12177, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">屏蔽</button></td>\r\n");
#nullable restore
#line 244 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <td><button type=\"button\" class=\"btn btn-success\" onclick=\"invisibleRep(event)\" status=\"1\"");
            BeginWriteAttribute("connectid", " connectid=\"", 12482, "\"", 12513, 1);
#nullable restore
#line 247 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
WriteAttributeValue("", 12494, item.連接編號connectId, 12494, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">取消屏蔽</button></td>\r\n");
#nullable restore
#line 248 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                        }
                                    

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <td>\r\n                                        <button type=\"button\" class=\"btn btn-info\" data-bs-toggle=\"modal\" data-bs-target=\"#modalEmail\"\r\n                                                data-bs-email=\"");
#nullable restore
#line 252 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                          Write(item.會員編號member.電子信箱email);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"\r\n                                                data-bs-tar=\"rep\" data-bs-cfid=\"");
#nullable restore
#line 253 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                                           Write(item.我的追蹤清單編號cfId);

#line default
#line hidden
#nullable disable
            WriteLiteral("\"\r\n                                                data-bs-link=\'");
#nullable restore
#line 254 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                                         Write(item.被檢舉回覆內容);

#line default
#line hidden
#nullable disable
            WriteLiteral("\'>\r\n                                            回覆檢舉人\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n");
#nullable restore
#line 259 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                        }
                

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </tbody>
        </table>
    </div>
    <!--已處理檢舉-->
    <div class=""tab-pane fade"" id=""contact"" role=""tabpanel"" aria-labelledby=""contact-tab"">
        <h4 class=""mt-3"">已處理檢舉一覽表</h4>
        <table class=""table"" id=""donTable"">
            <thead>
                <tr>
");
            WriteLiteral("                    <th>序</th>\r\n                    <th>檢舉項目</th>\r\n                    <th>檢舉人編號</th>\r\n                    <th>\r\n                        檢舉理由\r\n");
            WriteLiteral("                    </th>\r\n                    <th>被檢舉內容</th>\r\n                    <th>更改</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n");
#nullable restore
#line 287 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                  
                    int count0 = 0;
                    foreach (var item in rpDon)
                    {
                        count0++;

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <tr>\r\n");
            WriteLiteral("                            <td>");
#nullable restore
#line 294 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                           Write(count0);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 295 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                           Write(item.對象名稱targetName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 296 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                           Write(item.會員編號memberId);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 297 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                           Write(item.檢舉理由reportReason);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td>");
#nullable restore
#line 298 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                           Write(item.連接編號connectId);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                            <td><button type=\"button\" class=\"btn btn-info\">改為未處理</button></td>\r\n                        </tr>\r\n");
#nullable restore
#line 301 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                    }
                

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </tbody>
        </table>
    </div>
</div>


<!-- Modal exampleEmail-->
<div class=""modal fade bd-example-modal-lg"" id=""modalExample"" tabindex=""-1"" role=""dialog"" aria-labelledby=""myLargeModalLabel"" aria-hidden=""true"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title"" id=""exampleModalLabel"">快速處理信件內容</h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
                <div class=""input-group mb-3"">
                    <span class=""input-group-text"" id=""basic-addon3"">信件標題</span>
                    <input type=""text"" class=""form-control"" id=""basic-url"" aria-describedby=""basic-addon3"" value=""MDA會員檢舉後續處理情形"">
                </div>
                <div class=""input-group"">
                    <");
            WriteLiteral(@"span class=""input-group-text"">信件內容</span>
                    <textarea class=""form-control"" aria-label=""With textarea"" rows=""10"">
親愛的會員您好，
&emsp;感谢您對認為違反我們社群守則的內容提出檢舉。
&emsp;對於讓MDA成為安全且友好的環境來說,您提出的檢舉是相當重要的一環。
&emsp;經審查並未發現有違反社群守則之處，
&emsp;若您認為應再次進行調查,請回覆此封信件告知我們。
&emsp;謝謝您！
</textarea>
                </div>


            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-secondary"" data-dismiss=""modal"">關閉</button>
");
            WriteLiteral(@"            </div>
        </div>
    </div>
</div>
<!--modal end-->
<!-- Modal Email-->
<div class=""modal fade bd-example-modal-lg"" id=""modalEmail"" tabindex=""-1"" role=""dialog"" aria-labelledby=""myLargeModalLabel"" aria-hidden=""true"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title"" id=""exampleModalLabel"">信件內容</h5>
                <button type=""button"" class=""close"" data-bs-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
");
#nullable restore
#line 356 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
             using (Html.BeginForm("sendmail", "Report"))
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"modal-body\">\r\n                    <input type=\"hidden\" name=\"type\" id=\"type\"");
            BeginWriteAttribute("value", " value=\"", 17399, "\"", 17407, 0);
            EndWriteAttribute();
            WriteLiteral(" />\r\n                    <input type=\"hidden\" name=\"cfid\" id=\"cfid\"");
            BeginWriteAttribute("value", " value=\"", 17475, "\"", 17483, 0);
            EndWriteAttribute();
            WriteLiteral(@" />
                    <div class=""container-fluid"">
                        <div class=""row"">
                            <div class=""input-group mb-3"">
                                <span class=""input-group-text"">收件人</span>
                                <input type=""text"" class=""form-control"" id=""emailReporter"" name=""emailReporter"" aria-describedby=""basic-addon3""");
            BeginWriteAttribute("value", " value=\"", 17861, "\"", 17869, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                            </div>
                            <div class=""input-group mb-3"">
                                <span class=""input-group-text"">信件標題</span>
                                <input type=""text"" class=""form-control"" name=""emailTitle"" aria-describedby=""basic-addon3"" value=""MDA會員檢舉後續處理情形"">
                            </div>
                        </div>
                        <div class=""row"">
                            <div class=""col-md-8"">                       
                                <textarea id=""open-source-plugins"" name=""emailContent"" class=""form-control"" aria-label=""With textarea""></textarea>
                            </div>
                            <div class=""col-md-4 ml-auto"" style=""font-size:small"">
                                <label><strong>常用回覆(拖放使用)</strong></label>
                                <p draggable=""true"" id=""經審查並未發現有違反社群守則之處"">經審查並未發現有違反社群守則之處</p>
                                <p draggable=""true"" id=""經審查發現有違反社群守則之處"">經審查發現");
            WriteLiteral(@"有違反社群守則之處</p>
                                <p draggable=""true"" id=""若您認為應再次進行調查,請回此封信件告知我們"">若您認為應再次進行調查,請回此封信件告知我們</p>
                                <p draggable=""true"" id=""該則評論將予以屏蔽"">該則評論將予以屏蔽</p>
                                <p draggable=""true"" id=""該會員將予以停權"">該會員將予以停權</p>
                                <p draggable=""true"" id=""該則回覆將予以屏蔽"">該則回覆將予以屏蔽</p>
                            </div>
                        </div>
                    </div>

                </div>
                <div class=""modal-footer"">
                    <button type=""button"" class=""btn btn-secondary"" data-bs-dismiss=""modal"">取消</button>
                    <button type=""submit"" class=""btn btn-primary"" id=""sendEmail"">確認送出</button>
                </div>
");
#nullable restore
#line 393 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </div>\r\n    </div>\r\n</div>\r\n<!--modal end-->\r\n\r\n\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
    <script src=""https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js"" referrerpolicy=""origin""></script>
 
    <script> //停權屏蔽
    async function suspend(event) {
        let status = event.target.getAttribute('status')
        let memid = event.target.getAttribute('connectid')
        let response = await fetch( '");
#nullable restore
#line 407 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                Write(Url.Content("~/report/suspendMember"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"'+'?id='+memid)
        let data = await response.text()
        //console.log(data)
        if (status == 0) {
            event.target.setAttribute('class', 'btn btn-success')
            event.target.textContent=""取消停權""
            event.target.setAttribute('status', 1)
        }
        else {
            event.target.setAttribute('class', 'btn btn-danger')
            event.target.textContent = ""停權""
            event.target.setAttribute('status', 0)
        }
    }
        async function invisibleCom(event) {
            let status = event.target.getAttribute('status')
            let connectid = event.target.getAttribute('connectid')
            let response = await fetch('");
#nullable restore
#line 424 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(Url.Content("~/report/invisibleComment"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' + '?id=' + connectid)
            let data = await response.text()
        console.log(data)
        if (status == 0) {
            event.target.setAttribute('class', 'btn btn-success')
            event.target.textContent=""取消屏蔽""
            event.target.setAttribute('status', 1)
        }
        else {
            event.target.setAttribute('class', 'btn btn-danger')
            event.target.textContent = ""屏蔽""
            event.target.setAttribute('status', 0)
        }
        }
        async function invisibleRep(event) {
            let status = event.target.getAttribute('status')
            let connectid = event.target.getAttribute('connectid')
            let response = await fetch('");
#nullable restore
#line 441 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                                   Write(Url.Content("~/report/invisibleReply"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' + '?id=' + connectid)
            let data = await response.text()
        console.log(data)
        if (status == 0) {
            event.target.setAttribute('class', 'btn btn-success')
            event.target.textContent=""取消屏蔽""
            event.target.setAttribute('status', 1)
        }
        else {
            event.target.setAttribute('class', 'btn btn-danger')
            event.target.textContent = ""屏蔽""
            event.target.setAttribute('status', 0)
        }
        }
    </script>
    <script>//拖放功能
        const txtarea = document.querySelector(""#open-source-plugins"")
        /* Event fired on the drag target */
        document.addEventListener(""dragstart"", function (event) {
            event.dataTransfer.setData(""Text"", event.target.id);
        });
        /* Events fired on the drop target */
        txtarea.addEventListener(""dragover"", function (event) {
            event.preventDefault();
        });
        document.addEventListener(""drop"", function (event) {");
                WriteLiteral(@"
            event.preventDefault();
            var data = event.dataTransfer.getData(""Text"");
            event.target.appendChild(document.getElementById(data).textContent); //event.target.appendChild(document.getElementById(data));
            console.log(data)
            console.log(document.getElementById(data).innerHTML)

        })
    </script>
    <script> //全選功能
        const selectAllMem = document.querySelector(""#selectAllMem"")
        const selectAllCom = document.querySelector(""#selectAllCom"")
        const selectAllRep = document.querySelector(""#selectAllRep"")
        const allCheckbox = document.querySelectorAll('.checkbox')
        selectAllMem.addEventListener('change', selectAll)
        selectAllCom.addEventListener('change', selectAll)
        selectAllRep.addEventListener('change', selectAll)
        allCheckbox.forEach(c => c.addEventListener('change', () => {
            if (!c.checked)
                c.closest('.table').querySelector('.all').checked = false
     ");
                WriteLiteral(@"   }))
        function selectAll(event) {
            let chks = event.target.closest('.table').querySelectorAll('.checkbox')
            if (event.target.checked) {
                chks.forEach(chk => chk.checked = true)
            }
            else {
                chks.forEach(chk => chk.checked = false)
            }
        }
    </script>
    <script> //一鍵處理
        const solveAllMem = document.querySelector(""#solveAllMem"")
        const solveAllCom = document.querySelector(""#solveAllCom"")
        const solveAllRep = document.querySelector(""#solveAllRep"")
        solveAllMem.addEventListener('click', send)
        solveAllCom.addEventListener('click', send)
        solveAllRep.addEventListener('click', send)
        async function send(event) {
            let tab = event.target.getAttribute('tab')
            let boxes = event.target.closest('.tab-pane').querySelectorAll('.checkbox')
            var vm = new Array();
            //let arrId = []
            //let arrEm = []
");
                WriteLiteral(@"            boxes.forEach(b => {
                if (b.checked == true) {
                    //arrId.push(b.value)
                    let email = b.getAttribute('email')
                    var test = {};
                    test.id = b.value
                    test.mail = email
                    test.tab=tab
                    //arrEm.push(email)
                    vm.push(test)
                }
            })
            //vm = JSON.stringify({ 'vm': vm });
");
                WriteLiteral("            $.ajax({\r\n                type: \"POST\",\r\n                url: \'");
#nullable restore
#line 527 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
                 Write(Url.Action("sendmany"));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',
                data: JSON.stringify(vm),
                contentType: ""application/json"",
                dataType: ""json"",
                
                success: function () {
                    console.log(""inserted"");
                }
            });
        }
       

    </script>

    <script> //信件帶入內容
        var modalEmail = document.getElementById('modalEmail')


        modalEmail.addEventListener('show.bs.modal', async function (event) {
                // Button that triggered the modal
                var button = event.relatedTarget
                // Extract info from data-bs-* attributes
                var email = button.getAttribute('data-bs-email')
            var type = button.getAttribute('data-bs-tar')
            var cfid = button.getAttribute('data-bs-cfid')


            var link = button.getAttribute('data-bs-link')
            // If necessary, you could initiate an AJAX request here
            // and then do the updating in a callback.
       ");
                WriteLiteral("     //console.log(type)\r\n                if (type == \'rep\') {\r\n");
                WriteLiteral(@"                link = '回覆『'+link+'』'
            }
            //
            // Update the modal's content.
            var emailReporter = modalEmail.querySelector('#emailReporter')
            emailReporter.value = email
            emailReporter.readOnly = true

            var emailType = modalEmail.querySelector('#type')
            emailType.value = type

            var emailCfid = modalEmail.querySelector('#cfid')
            emailCfid.value = cfid

            await tinymce.init({
                selector: '#open-source-plugins',
                language: ""zh_TW""
            });

            let area = await document.querySelector('#open-source-plugins_ifr')
            //console.log(area)
            //console.log(area.contentWindow.document.getElementById('tinymce'))
            let inner = await area.contentWindow.document.getElementById('tinymce')

            inner.innerHTML = `
親愛的會員您好，<br/>
對於讓MDA成為安全且友好的環境來說,您提出的檢舉是相當重要的一環。<br/>
針對您檢舉: ${link}<br/><br/>`

      ");
                WriteLiteral(@"  })
    </script>

    <script> //重刷轉跳頁籤
    const mem = document.querySelector('#home')
    const com = document.querySelector('#profile')
    const rep = document.querySelector('#reply')
    const memt = document.querySelector('#home-tab')
    const comt = document.querySelector('#profile-tab')
    const rept = document.querySelector('#reply-tab')
    const tab = '");
#nullable restore
#line 600 "C:\MDA143後\ServerMDA\Views\Report\Report.cshtml"
            Write(tab);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"'
    window.onload = function () {

        if (tab == ""com"") {
            document.querySelector('#profile').classList.add(""active"")
            document.querySelector('#profile').classList.add(""show"")
            document.querySelector('#profile-tab').classList.add(""active"")
            document.querySelector('#profile-tab').setAttribute('aria-selected','true')
        }
        else if (tab == ""rep"") {
            document.querySelector('#reply').classList.add(""active"")
            document.querySelector('#reply').classList.add(""show"")
            document.querySelector('#reply-tab').classList.add(""active"")
            document.querySelector('#reply-tab').setAttribute('aria-selected', 'true')
        }
        else {
            document.querySelector('#home').classList.add(""active"")
            document.querySelector('#home').classList.add(""show"")
            document.querySelector('#home-tab').classList.add(""active"")
            document.querySelector('#home-tab').setAttribute('aria-");
                WriteLiteral(@"selected', 'true')
        }
    }
    </script>

    <script src='//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js'></script>
    <script src='//cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js'></script>

    <script> //可篩選table
        function setTable(a) {
            $(a).DataTable({
                language: {
                    ""emptyTable"": ""無資料..."",
                    ""processing"": ""處理中..."",
                    ""loadingRecords"": ""載入中..."",
                    ""lengthMenu"": ""每頁 _MENU_ 筆資料"",
                    ""zeroRecords"": ""無搜尋結果"",
                    ""info"": ""_START_ 至 _END_ / 共 _TOTAL_ 筆"",
                    ""infoEmpty"": ""尚無資料"",
                    ""infoFiltered"": ""(從 _MAX_ 筆資料過濾)"",
                    ""infoPostFix"": """",
                    ""search"": ""搜尋:"",
                    ""paginate"": {
                        ""first"": ""首頁"",
                        ""last"": ""末頁"",
                        ""next"": ""下頁"",
                        ""previous"": ""前頁""
        ");
                WriteLiteral(@"            },
                    ""aria"": {
                        ""sortAscending"": "": 升冪"",
                        ""sortDescending"": "": 降冪""
                    }
                }
            })
        }
        setTable('#memTable');
        setTable('#comTable');
        setTable('#repTable');
        setTable('#donTable');
    </script>

");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IHttpContextAccessor Accessor { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<List<CReportViewModel>> Html { get; private set; }
    }
}
#pragma warning restore 1591
